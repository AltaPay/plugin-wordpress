(()=>{"use strict";const e=window.React,t=window.wp.i18n,n=window.wc.wcBlocksRegistry,a=window.wp.htmlEntities,o=window.wc.wcSettings,c=window.wc.wcBlocksData,s=window.wp.data,p=(0,o.getSetting)("altapay_{terminal_id}_data",{}),{useEffect:i}=window.wp.element,l=(0,t.__)("AltaPay","woo-gutenberg-products-block"),r=(0,a.decodeEntities)(p.title)||l,w=e=>{const t=(0,s.select)(c.CART_STORE_KEY).getCartTotals();p.subtotal=t.total_price/100;const{eventRegistration:n,activePaymentMethod:o,emitResponse:l}=e,{onCheckoutSuccess:r}=n;return i((()=>{const e=r((e=>{var t=e.processingResponse.paymentDetails.order_id;return"yes"===p.is_apple_pay?(onApplePayButtonClicked(p,!1,null,t),{type:l.responseTypes.SUCCESS}):{type:l.responseTypes.SUCCESS}}));return()=>{e()}}),[l.responseTypes.SUCCESS,r]),jQuery(".wc-block-components-checkout-place-order-button").click((function(){jQuery("#radio-control-wc-payment-method-options-"+p.applepay_payment_method).is(":checked")&&onApplePayButtonClicked(p,!0,!1)})),(0,a.decodeEntities)(p.description||"")},d={name:"altapay_{terminal_id}",label:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{class:"altapay-payment-method"},(0,t.__)(r,"woocommerce-payments"),p.icon&&(0,e.createElement)("img",{src:p.icon,alt:""}))),content:(0,e.createElement)(w,null),edit:(0,e.createElement)(w,null),canMakePayment:()=>!0,ariaLabel:r,supports:{features:p.supports}};(0,n.registerPaymentMethod)(d)})();